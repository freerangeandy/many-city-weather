(this["webpackJsonpmany-city-weather"]=this["webpackJsonpmany-city-weather"]||[]).push([[0],{28:function(e,t,a){},44:function(e,t,a){e.exports=a(74)},74:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(11),l=a.n(r),o=(a(28),a(27)),i=a(23),u=a(26),s=a(95),m=a(93),d=function(e){var t=e.clickHandler;return c.a.createElement("div",{className:"add-button"},c.a.createElement(s.a,{variant:"contained",color:"primary",startIcon:c.a.createElement(m.a,null,"add_circle"),onClick:t}," Add\xa0Location "))},h=a(39),f=a.n(h),p=function(e){var t=e.suggestionSelect,a=e.searchFieldRef;return c.a.createElement(f.a,{publicKey:"pk.eyJ1IjoiZnJlZXJhbmdlYW5keSIsImEiOiJja2J0bXoxMnAwYmpnMnlxdmYyOTVqNXA0In0.1u16EPjQEgr4LwHinZZKjA",onSuggestionSelect:t,inputClass:"city-input",ref:a})},E=function(e){var t=e.suggestionSelect,a=e.addCityDisplay,n=e.searchFieldRef;return c.a.createElement("div",{className:"add-city"},c.a.createElement(p,{suggestionSelect:t,searchFieldRef:n}),c.a.createElement(d,{clickHandler:a}))},y=a(94),v=a(96),g=function(e){return e>=21||e<6},w=function(e){var t=9*(e.temp-273.14)/5+32,a=1e3*e.dt,n=new Date(a),c=n.getMonth(),r=n.getDate();return{date:"".concat(c,"/").concat(r),hour:n.getHours(),temp:t,main:e.weather[0].main,description:e.weather[0].description,icon:e.weather[0].icon,cloudCover:e.clouds,windSpeed:e.wind_speed}},b=function(e){var t,a,n=e.weatherInfo,r=(t=n.hour,a=n.icon,g(t)?a.replace("d","n"):a.replace("n","d")),l="http://openweathermap.org/img/wn/".concat(r,"@2x.png"),o=function(e){return g(e)?"night-bg":"day-bg"}(n.hour);return c.a.createElement("div",{className:"weather-info-tile"},c.a.createElement("h3",null,n.date),c.a.createElement("h2",null,function(e){return 0===e?"12am":e>12?"".concat(e-12,"pm"):"".concat(e,"am")}(n.hour)),c.a.createElement("div",{className:"weather-card ".concat(o)},c.a.createElement("h2",null,n.temp.toFixed(0)," \xb0F"),c.a.createElement(v.a,{className:"weather-icon",src:l}),c.a.createElement("h3",null,n.description)))},j=a(40),N=a(41),O=function(e){return c.a.createElement("div",{className:"city-header"},c.a.createElement("div",{className:"city-name"},c.a.createElement("h1",null,e.name)),c.a.createElement("div",{onClick:e.deleteHandler},c.a.createElement(j.a,{className:"delete-button",icon:N.a})))},k=function(e){var t=e.name,a=e.forecasts,n=e.deleteHandler,r=a.slice(0,6).map((function(e,t){return c.a.createElement(y.a,{item:!0,xs:2,key:t},c.a.createElement(b,{weatherInfo:e}))}));return c.a.createElement("li",{className:"city-weather"},c.a.createElement(O,{name:t,deleteHandler:n}),c.a.createElement(y.a,{container:!0,spacing:1},r))},H=function(e){var t=e.cityList,a=e.deleteHandler,n=t.map((function(e,t){var n=e.name,r=e.forecasts;return c.a.createElement(k,{key:t,name:n,forecasts:r,deleteHandler:a(t)})}));return c.a.createElement("div",{className:"city-display"},c.a.createElement("ul",null,n))},S=function(e){var t=Object(n.useState)(null),a=Object(u.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)([]),m=Object(u.a)(s,2),d=m[0],h=m[1],f=Object(n.useRef)(null),p=function(e){var t="lat=".concat(e.coords[0],"&lon=").concat(e.coords[1]);fetch("".concat("https://api.openweathermap.org/data/2.5/","onecall?").concat(t).concat("&exclude=current,minutely,daily","&appid=").concat("85605c622914f5dad8bccbb102c2769c")).then((function(e){if(e.ok)return e;var t="".concat(e.status," (").concat(e.statusText,")");throw new Error(t)})).then((function(e){return e.json()})).then((function(t){var a=t.hourly.map(w),n=[].concat(Object(i.a)(d),[Object(o.a)(Object(o.a)({},e),{},{forecasts:a})]);h(n)})).catch((function(e){return console.error("Error in fetch: ".concat(e.message))}))};return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"page-title"},"How's the weather over there?"),c.a.createElement(E,{suggestionSelect:function(e,t,a,n){l({name:e,coords:[t,a],forecasts:null})},addCityDisplay:function(){null!==r&&(p(r),l(null),f.current.state.query="")},searchFieldRef:f}),c.a.createElement(H,{cityList:d,deleteHandler:function(e){return function(){var t=[].concat(Object(i.a)(d.slice(0,e)),Object(i.a)(d.slice(e+1)));h(t)}}}))};var x=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(S,null))};l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(x,null)),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.ca5f2745.chunk.js.map