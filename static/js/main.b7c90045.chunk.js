(this["webpackJsonpmany-city-weather"]=this["webpackJsonpmany-city-weather"]||[]).push([[0],{25:function(e,t,n){},39:function(e,t,n){e.exports=n(67)},67:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(12),o=n.n(r),i=(n(25),n(23)),l=n(10),u=n(35),s=n.n(u),m=n(90),d=n(88),h=function(e){var t=e.setSelectedCity,n=e.clickHandler;return c.a.createElement("div",{className:"add-city"},c.a.createElement(s.a,{publicKey:"pk.eyJ1IjoiZnJlZXJhbmdlYW5keSIsImEiOiJja2J0bXoxMnAwYmpnMnlxdmYyOTVqNXA0In0.1u16EPjQEgr4LwHinZZKjA",onSuggestionSelect:function(e,n,a,c){t({name:e,coords:[n,a]})},inputClass:"city-input"}),c.a.createElement("div",{className:"add-button"},c.a.createElement(m.a,{variant:"contained",color:"primary",startIcon:c.a.createElement(d.a,null,"add_circle"),onClick:n}," Add\xa0Location ")))},p=n(89),f=n(91),E=function(e){var t,n,a=e.weatherInfo,r=function(e){return e>=21||e<6},o=(t=a.hour,n=a.icon,r(t)?n.replace("d","n"):n.replace("n","d")),i="http://openweathermap.org/img/wn/".concat(o,"@2x.png"),l=function(e){return r(e)?"night-bg":"day-bg"}(a.hour);return c.a.createElement("div",{className:"weather-info-tile"},c.a.createElement("h3",null,a.date),c.a.createElement("h2",null,function(e){return 0===e?"12am":e>12?"".concat(e-12,"pm"):"".concat(e,"am")}(a.hour)),c.a.createElement("div",{className:"weather-card ".concat(l)},c.a.createElement("h2",null,a.temp.toFixed(0)," \xb0F"),c.a.createElement(f.a,{className:"weather-icon",src:i}),c.a.createElement("h3",null,a.description)))},w=function(e){e.name;var t=e.coords,n=Object(a.useState)(null),r=Object(l.a)(n,2),o=r[0],u=r[1],s=Object(a.useState)(null),m=Object(l.a)(s,2),d=m[0],h=m[1],f=Object(a.useState)(null),w=Object(l.a)(f,2),b=w[0],v=w[1];Object(a.useEffect)((function(){j(t),O(t)}),[]);var y,g,j=function(e){fetch("".concat("https://api.openweathermap.org/data/2.5/","weather?lat=").concat(e[0],"&lon=").concat(e[1],"&appid=").concat("85605c622914f5dad8bccbb102c2769c")).then((function(e){if(e.ok)return e;var t="".concat(e.status," (").concat(e.statusText,")");throw new Error(t)})).then((function(e){return e.json()})).then((function(e){var t=k(e);v(t),console.log(e)})).catch((function(e){return console.error("Error in fetch: ".concat(e.message))}))},O=function(e){fetch("".concat("https://api.openweathermap.org/data/2.5/","forecast?lat=").concat(e[0],"&lon=").concat(e[1],"&appid=").concat("85605c622914f5dad8bccbb102c2769c")).then((function(e){if(e.ok)return e;var t="".concat(e.status," (").concat(e.statusText,")");throw new Error(t)})).then((function(e){return e.json()})).then((function(e){u(e.city);var t=S(e.list);h(t),console.log(e)})).catch((function(e){return console.error("Error in fetch: ".concat(e.message))}))},S=function(e){return e.map(k)},k=function(e){var t=!e.dt_txt,n=9*(e.main.temp-273.14)/5+32,a=t?1e3*e.dt:e.dt_txt,c=new Date(a),r=c.getMonth(),o=c.getDate();return{date:"".concat(r,"/").concat(o),hour:c.getHours(),temp:n,main:e.weather[0].main,description:e.weather[0].description,icon:e.weather[0].icon,cloudCover:e.clouds,windSpeed:e.wind.speed}};return o&&(y=o.name),b&&d&&(g=[b].concat(Object(i.a)(d)).slice(0,6).map((function(e,t){return c.a.createElement(p.a,{item:!0,xs:2,key:t},c.a.createElement(E,{weatherInfo:e}))}))),c.a.createElement("li",{className:"display-city"},c.a.createElement("h1",{className:"city-name"},y),c.a.createElement(p.a,{container:!0,spacing:1},g))},b=function(e){var t;return t=e.cityList.map((function(e,t){var n=e.name,a=e.coords;return c.a.createElement(w,{key:t,name:n,coords:a})})),c.a.createElement("div",null,c.a.createElement("ul",null,t))};var v=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)([]),u=Object(l.a)(o,2),s=u[0],m=u[1];return c.a.createElement("div",{className:"App"},c.a.createElement("h1",{className:"page-title"},"How's the weather over there?"),c.a.createElement(h,{setSelectedCity:r,clickHandler:function(){if(null!==n){var e=[].concat(Object(i.a)(s),[n]);m(e),r(null)}}}),c.a.createElement(b,{cityList:s}))};o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(v,null)),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.b7c90045.chunk.js.map