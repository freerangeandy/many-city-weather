(this["webpackJsonpmany-city-weather"]=this["webpackJsonpmany-city-weather"]||[]).push([[0],{24:function(e,t,n){},39:function(e,t,n){e.exports=n(67)},67:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(11),o=n.n(r),i=(n(24),n(36)),l=n(14),u=n(34),s=n.n(u),m=n(91),d=n(88),p=function(e){var t=e.setSelectedCity,n=e.clickHandler;return c.a.createElement("div",{className:"add-city"},c.a.createElement(s.a,{publicKey:"pk.eyJ1IjoiZnJlZXJhbmdlYW5keSIsImEiOiJja2J0bXoxMnAwYmpnMnlxdmYyOTVqNXA0In0.1u16EPjQEgr4LwHinZZKjA",onSuggestionSelect:function(e,n,a,c){t({name:e,coords:[n,a]})},inputClass:"city-input"}),c.a.createElement(m.a,{variant:"contained",color:"primary",className:"add-button",startIcon:c.a.createElement(d.a,null,"add_circle"),onClick:n}," Add Location "))},f=n(90),h=n(89),E=n(92),y=function(e){var t,n,a=e.forecast,r=function(e){return e>=21||e<6},o=(t=a.hour,n=a.icon,r(t)?n.replace("d","n"):n.replace("n","d")),i="http://openweathermap.org/img/wn/".concat(o,"@2x.png"),l=function(e){return r(e)?"night-bg":"day-bg"}(a.hour);return c.a.createElement("div",{className:"forecast-tile"},c.a.createElement("h3",null,a.date),c.a.createElement("h2",null,function(e){return 0===e?"12am":e>12?"".concat(e-12,"pm"):"".concat(e,"am")}(a.hour)),c.a.createElement("div",{className:"weather-card ".concat(l)},c.a.createElement("h2",null,a.temp.toFixed(0)," \xb0F"),c.a.createElement(E.a,{className:"weather-icon",src:i}),c.a.createElement("h3",null,a.description)))},b=function(e){e.name;var t=e.coords,n=Object(a.useState)(null),r=Object(l.a)(n,2),o=r[0],i=r[1],u=Object(a.useState)(null),s=Object(l.a)(u,2),m=s[0],d=s[1];Object(a.useEffect)((function(){b(t)}),[]);var p,E,b=function(e){fetch("".concat("https://api.openweathermap.org/data/2.5/forecast","?lat=").concat(e[0],"&lon=").concat(e[1],"&appid=").concat("85605c622914f5dad8bccbb102c2769c")).then((function(e){if(e.ok)return e;var t="".concat(e.status," (").concat(e.statusText,")");throw new Error(t)})).then((function(e){return e.json()})).then((function(e){i(e.city);var t=v(e.list);d(t),console.log(t)})).catch((function(e){return console.error("Error in fetch: ".concat(e.message))}))},v=function(e){return e.map((function(e){var t=9*(e.main.temp-273.14)/5+32,n=e.dt_txt,a=new Date(n),c=a.getMonth(),r=a.getDate();return{date:"".concat(c,"/").concat(r),hour:a.getHours(),temp:t,main:e.weather[0].main,description:e.weather[0].description,icon:e.weather[0].icon,cloudCover:e.clouds,windSpeed:e.wind.speed}}))};return o&&(p=o.name),m&&(E=m.slice(0,6).map((function(e,t){return c.a.createElement(h.a,{item:!0,xs:2,key:t},c.a.createElement(y,{forecast:e}))}))),c.a.createElement("li",{className:"display-city"},c.a.createElement(f.a,{elevation:0},c.a.createElement("h1",{className:"city-name"},p),c.a.createElement(h.a,{container:!0,spacing:1},E)))},v=function(e){var t;return t=e.cityList.map((function(e,t){var n=e.name,a=e.coords;return c.a.createElement(b,{key:t,name:n,coords:a})})),c.a.createElement("div",null,c.a.createElement("ul",null,t))};var w=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)([]),u=Object(l.a)(o,2),s=u[0],m=u[1];return c.a.createElement("div",{className:"App"},c.a.createElement(p,{setSelectedCity:r,clickHandler:function(){if(null!==n){var e=[].concat(Object(i.a)(s),[n]);m(e),r(null)}}}),c.a.createElement(v,{cityList:s}))};o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(w,null)),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.3143cd3b.chunk.js.map