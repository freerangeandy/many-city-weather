(this["webpackJsonpmany-city-weather"]=this["webpackJsonpmany-city-weather"]||[]).push([[0],{29:function(e,t,a){},47:function(e,t,a){e.exports=a(77)},77:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(10),l=a.n(r),o=(a(29),a(28)),i=a(24),s=a(27),u=a(97),m=a(95),d=function(e){var t=e.clickHandler;return c.a.createElement("div",{className:"add-button"},c.a.createElement(u.a,{variant:"contained",color:"primary",startIcon:c.a.createElement(m.a,null,"add_circle"),onClick:t}," Add\xa0Location "))},h=a(40),f=a.n(h),p=function(e){var t=e.suggestionSelect,a=e.searchFieldRef;return c.a.createElement(f.a,{publicKey:"pk.eyJ1IjoiZnJlZXJhbmdlYW5keSIsImEiOiJja2J0bXoxMnAwYmpnMnlxdmYyOTVqNXA0In0.1u16EPjQEgr4LwHinZZKjA",onSuggestionSelect:t,inputClass:"city-input",ref:a})},E=function(e){var t=e.suggestionSelect,a=e.addCityDisplay,n=e.searchFieldRef;return c.a.createElement("div",{className:"add-city"},c.a.createElement(p,{suggestionSelect:t,searchFieldRef:n}),c.a.createElement(d,{clickHandler:a}))},y=a(98),v=a(100),g=a(96),w=a(99),b=function(e){return e>=21||e<6},j=function(e){var t=9*(e.temp-273.14)/5+32,a=1e3*e.dt,n=new Date(a),c=n.getMonth()+1,r=n.getDate();return{date:"".concat(c,"/").concat(r),hour:n.getHours(),temp:t,main:e.weather[0].main,description:e.weather[0].description,icon:e.weather[0].icon,cloudCover:e.clouds,windSpeed:e.wind_speed}},N=function(e){var t,a,n=e.weatherInfo,r=(t=n.hour,a=n.icon,b(t)?a.replace("d","n"):a.replace("n","d")),l="http://openweathermap.org/img/wn/".concat(r,"@2x.png"),o=function(e){return b(e)?"night-bg":"day-bg"}(n.hour);return c.a.createElement("div",{className:"weather-info-tile"},c.a.createElement("h3",null,n.date),c.a.createElement("h2",null,function(e){return 0===e?"12am":e>12?"".concat(e-12,"pm"):"".concat(e,"am")}(n.hour)),c.a.createElement("div",{className:"weather-card ".concat(o)},c.a.createElement("h2",null,n.temp.toFixed(0)," \xb0F"),c.a.createElement(w.a,{className:"weather-icon",src:l}),c.a.createElement("h3",null,n.description)))},O=a(41),k=a(42),H=function(e){return c.a.createElement("div",{className:"city-header"},c.a.createElement("div",{className:"city-name"},c.a.createElement("h1",null,e.name)),c.a.createElement("div",{onClick:e.deleteHandler},c.a.createElement(O.a,{className:"delete-button",icon:k.a})))},S=function(e){var t=e.name,a=e.forecasts,n=e.deleteHandler,r=a.slice(0,6).map((function(e,t){return c.a.createElement(g.a,{item:!0,xs:2,key:t},c.a.createElement(N,{weatherInfo:e}))}));return c.a.createElement("li",{className:"city-weather"},c.a.createElement(H,{name:t,deleteHandler:n}),c.a.createElement(g.a,{container:!0,spacing:1},r))},x=function(e){var t=e.cityList,a=e.deleteHandler,n=t.map((function(e,t){var n=e.name,r=e.forecasts;return c.a.createElement(y.a,{key:t,classNames:"city-weather",timeout:{enter:250,exit:250}},c.a.createElement(S,{name:n,forecasts:r,deleteHandler:a(t)}))}));return c.a.createElement("div",{className:"city-display"},c.a.createElement("ul",null,c.a.createElement(v.a,null,n)))},I=function(e){var t=Object(n.useState)(null),a=Object(s.a)(t,2),r=a[0],l=a[1],u=Object(n.useState)([]),m=Object(s.a)(u,2),d=m[0],h=m[1],f=Object(n.useRef)(null),p=function(e){var t="lat=".concat(e.coords[0],"&lon=").concat(e.coords[1]);fetch("".concat("https://api.openweathermap.org/data/2.5/","onecall?").concat(t).concat("&exclude=current,minutely,daily","&appid=").concat("85605c622914f5dad8bccbb102c2769c")).then((function(e){if(e.ok)return e;var t="".concat(e.status," (").concat(e.statusText,")");throw new Error(t)})).then((function(e){return e.json()})).then((function(t){var a=t.hourly.map(j),n=[].concat(Object(i.a)(d),[Object(o.a)(Object(o.a)({},e),{},{forecasts:a})]);h(n)})).catch((function(e){return console.error("Error in fetch: ".concat(e.message))}))};return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"page-title"},"How's the weather over there?"),c.a.createElement(E,{suggestionSelect:function(e,t,a,n){l({name:e,coords:[t,a],forecasts:null})},addCityDisplay:function(){null!==r&&(p(r),l(null),f.current.state.query="")},searchFieldRef:f}),c.a.createElement(x,{cityList:d,deleteHandler:function(e){return function(){var t=[].concat(Object(i.a)(d.slice(0,e)),Object(i.a)(d.slice(e+1)));h(t)}}}))};var F=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(I,null))};l.a.render(c.a.createElement(F,null),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.c5cec741.chunk.js.map