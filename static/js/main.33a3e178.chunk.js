(this["webpackJsonpmany-city-weather"]=this["webpackJsonpmany-city-weather"]||[]).push([[0],{24:function(e,t,a){},39:function(e,t,a){e.exports=a(67)},67:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(11),o=a.n(r),l=(a(24),a(36)),i=a(14),u=a(34),s=a.n(u),m=a(90),d=a(88),p=function(e){var t=e.setSelectedCity,a=e.clickHandler;return c.a.createElement("div",{className:"add-city"},c.a.createElement(s.a,{publicKey:"pk.eyJ1IjoiZnJlZXJhbmdlYW5keSIsImEiOiJja2J0bXoxMnAwYmpnMnlxdmYyOTVqNXA0In0.1u16EPjQEgr4LwHinZZKjA",onSuggestionSelect:function(e,a,n,c){t({name:e,coords:[a,n]})},inputClass:"city-input"}),c.a.createElement("div",{className:"add-button"},c.a.createElement(m.a,{variant:"contained",color:"primary",startIcon:c.a.createElement(d.a,null,"add_circle"),onClick:a}," Add\xa0Location ")))},h=a(89),f=a(91),E=function(e){var t,a,n=e.forecast,r=function(e){return e>=21||e<6},o=(t=n.hour,a=n.icon,r(t)?a.replace("d","n"):a.replace("n","d")),l="http://openweathermap.org/img/wn/".concat(o,"@2x.png"),i=function(e){return r(e)?"night-bg":"day-bg"}(n.hour);return c.a.createElement("div",{className:"forecast-tile"},c.a.createElement("h3",null,n.date),c.a.createElement("h2",null,function(e){return 0===e?"12am":e>12?"".concat(e-12,"pm"):"".concat(e,"am")}(n.hour)),c.a.createElement("div",{className:"weather-card ".concat(i)},c.a.createElement("h2",null,n.temp.toFixed(0)," \xb0F"),c.a.createElement(f.a,{className:"weather-icon",src:l}),c.a.createElement("h3",null,n.description)))},v=function(e){e.name;var t=e.coords,a=Object(n.useState)(null),r=Object(i.a)(a,2),o=r[0],l=r[1],u=Object(n.useState)(null),s=Object(i.a)(u,2),m=s[0],d=s[1];Object(n.useEffect)((function(){v(t)}),[]);var p,f,v=function(e){fetch("".concat("https://api.openweathermap.org/data/2.5/forecast","?lat=").concat(e[0],"&lon=").concat(e[1],"&appid=").concat("85605c622914f5dad8bccbb102c2769c")).then((function(e){if(e.ok)return e;var t="".concat(e.status," (").concat(e.statusText,")");throw new Error(t)})).then((function(e){return e.json()})).then((function(e){l(e.city);var t=y(e.list);d(t),console.log(t)})).catch((function(e){return console.error("Error in fetch: ".concat(e.message))}))},y=function(e){return e.map((function(e){var t=9*(e.main.temp-273.14)/5+32,a=e.dt_txt,n=new Date(a),c=n.getMonth(),r=n.getDate();return{date:"".concat(c,"/").concat(r),hour:n.getHours(),temp:t,main:e.weather[0].main,description:e.weather[0].description,icon:e.weather[0].icon,cloudCover:e.clouds,windSpeed:e.wind.speed}}))};return o&&(p=o.name),m&&(f=m.slice(0,6).map((function(e,t){return c.a.createElement(h.a,{item:!0,xs:2,key:t},c.a.createElement(E,{forecast:e}))}))),c.a.createElement("li",{className:"display-city"},c.a.createElement("h1",{className:"city-name"},p),c.a.createElement(h.a,{container:!0,spacing:1},f))},y=function(e){var t;return t=e.cityList.map((function(e,t){var a=e.name,n=e.coords;return c.a.createElement(v,{key:t,name:a,coords:n})})),c.a.createElement("div",null,c.a.createElement("ul",null,t))};var b=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)([]),u=Object(i.a)(o,2),s=u[0],m=u[1];return c.a.createElement("div",{className:"App"},c.a.createElement("h1",{className:"page-title"},"How's the weather over there?"),c.a.createElement(p,{setSelectedCity:r,clickHandler:function(){if(null!==a){var e=[].concat(Object(l.a)(s),[a]);m(e),r(null)}}}),c.a.createElement(y,{cityList:s}))};o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(b,null)),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.33a3e178.chunk.js.map